<div class="d-flex justify-content-center"><h2>{{'USER.LABEL.PLURAL' | translate}}</h2></div>
<button
  mat-fab
  color="primary"
  matTooltip="{{'ACTIONS.CREATE' | translate}}"
  matTooltipPosition="right"
  (click)="openCreateDialog()">
  <mat-icon>add</mat-icon>
</button>
<div class="mt-3">
  <app-table
    [dataSource]="data$ | async"
    [entity]="'USER'"
    [displayedColumns]="displayedColumns"
    (updateEvent)="openUpdateDialog($event)"
    (deleteEvent)="openDeleteDialog($event)"
  ></app-table>
</div>

<ng-template #template>
  <div mat-dialog-title>{{dialogTitle}}</div>
  <div mat-dialog-content>
    <ng-container *ngIf="dialogActionType === DIALOG_ACTION_TYPE.REMOVE" [ngTemplateOutlet]="removeTemplate"></ng-container>
    <ng-container *ngIf="dialogActionType !== DIALOG_ACTION_TYPE.REMOVE" [ngTemplateOutlet]="formTemplate"></ng-container>
  </div>
  <div mat-dialog-actions>
    <button mat-raised-button mat-dialog-close>{{'ACTIONS.CLOSE' | translate}}</button>
    <button mat-raised-button [mat-dialog-close]="true" (click)="dialogMainAction()">{{dialogMainActionName | translate}}</button>
  </div>
</ng-template>

<ng-template #removeTemplate>
  <div>Esta seguro que desea eliminar el usuario?</div>
</ng-template>
<ng-template #formTemplate>
  <div [formGroup]="form">
    <mat-form-field class="w-100">
      <mat-label>Name</mat-label>
      <input matInput placeholder="Jhon" value="" formControlName="name">
    </mat-form-field>
    <mat-form-field class="w-100">
      <mat-label>Email</mat-label>
      <input matInput placeholder="jhon@gmail.com" value="" formControlName="email">
    </mat-form-field>
    <mat-form-field class="w-100">
      <mat-label>Choose a Rol</mat-label>
      <mat-select formControlName="rol">
        <mat-option [value]="USER_ROLES.DEVELOPER">Developer</mat-option>
        <mat-option [value]="USER_ROLES.ADMIN">Administrator</mat-option>
        <mat-option [value]="USER_ROLES.COLLABORATOR">Collaborator</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</ng-template>

